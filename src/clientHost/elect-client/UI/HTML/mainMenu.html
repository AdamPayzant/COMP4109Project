<!DOCTYPE HTML>
<html>
    <head>
        <title>Hello World</title>

        <link rel="stylesheet" type="text/css" href="../CSS/mainMenu.css" />
        <link rel="stylesheet" type="text/css" href="../CSS/style.css" />

    </head>

    <body style="overflow: hidden;">

        <!-- Select a client that the user wants to chat with -->
        <div style="overflow: hidden; grid-column: 1 / 4; grid-row: 1; background-color: skyblue;" class="containerItem"> 
        <div style="overflow: hidden; margin: 10px; grid-gap: 5px; display: grid; grid-template-columns: 40% 15% calc(100% - 75% - 20px) 10% 10%; grid-template-rows: auto 50px;">
        <!-- Contacts -->
        <div class="contactSelectionArea" id="contactSelectionArea">
        </div>
        
        <!-- Search Bar -->
        <input type="text" placeholder="Search Bar" id="contactSearch" style="grid-column: 1; grid-row: 2;" value="" oninput="populateContactList()"> </input>
        <select name="searchoptions" id="searchoptions" style="grid-column: 2; grid-row: 2;">
            <option value="name"> Name </option>
            <option value="public key"> Public Key </option>
        </select>

        <button type="button" style="grid-column: 4; grid-row: 2;"> One Time Connection </button>
        <button type="button" style="grid-column: 5; grid-row: 2;"> New Contact </button>
        
        </div></div>


        <!-- Display Connection information -->
        <div style="grid-column: 1; grid-row: 3; grid-template-columns:70px 160px; grid-template-rows: 30px 60px;" id="area1" class="containerItem">
                <div style="grid-area: 1 / 1; background-color: snow;border: black 1px solid;"> 
                    <div style="margin: auto auto auto auto; height: max-content; width: max-content;">Profile</div> 
                </div> 

                <div style="grid-area: 2 / 1 / 3 / 3; display: grid; grid-gap: 0px; grid-template-columns: 70px 160px; grid-template-rows: auto auto;">
                    
                    <div style="grid-area: 1 / 1; background-color: snow; border: black 1px solid;">  
                        <div style="margin: auto auto auto auto; height: max-content; width: max-content;">Alias</div> 
                    </div> 
                    <div style="grid-area: 1 / 2; background-color: snow; border: black 1px solid;"> 12345678 </div>

                    <div style="grid-area: 2 / 1; background-color: snow; border: black 1px solid;">  
                        <div style="margin: auto auto auto auto; height: max-content; width: max-content;">Public Key</div> 
                    </div> 
                    <div style="grid-area: 2 / 2; background-color: snow; border: black 1px solid;"> 12345678 </div>

                </div>

                
            </div>

        <!-- Display user identity-->
        <div style="grid-column: 2; grid-row: 3; grid-template-columns: 70px 160px; grid-template-rows: 20px 120px 20px;" id = "area2" class="containerItem">
            <div style="grid-area: 1 / 1; background-color: snow;border: black 1px solid;"> 
                <div style="margin: auto auto auto auto; height: max-content; width: max-content;">Host</div> 
            </div> 

            <div style="grid-area: 2 / 1 / 3 / 3; display: grid; grid-gap: 2px; grid-template-columns: 70px 160px; grid-template-rows: auto auto;">
                
                <div style="grid-area: 1 / 1; background-color: snow; border: black 1px solid;">  
                    <div style="margin: auto auto auto auto; height: max-content; width: max-content;">IP</div> 
                </div> 
                <div style="grid-area: 1 / 2; background-color: snow; border: black 1px solid;"> 12345678 </div>

                <div style="grid-area: 2 / 1; background-color: snow; border: black 1px solid;">  
                    <div style="margin: auto auto auto auto; height: max-content; width: max-content;">Status</div> 
                </div> 
                <div style="grid-area: 2 / 2; background-color: snow; border: black 1px solid;"> 12345678 </div>

            </div>

            <button style="grid-area: 3 / 2;"> Disconnect </button> 
        
        </div>

        <!-- Settings Menu?-->
        <div style="grid-column: 3; grid-row: 3;" class="containerItem"> </div>
        

        <script> 
        

        const { ipcRenderer } = require("electron")
        
        function populateContactList(){

            //Default value for "Name"
            let searchType = 0

            if(document.getElementById('searchoptions').value == 'public key')
                searchType = 1

            let searchValue =  document.getElementById('contactSearch').value
            document.getElementById('contactSelectionArea').innerHTML = ipcRenderer.sendSync('provideContactList', searchValue, searchType)
        }

        function start(){
            populateContactList()
        }
        
        
        start()
        
        </script>

    </body>
</html>